@model IEnumerable<UnallocatedTaskVM>

@{
	ViewData["Title"] = "Index";
}

<h1>Unallocated Tasks</h1>

@if (Model == null || !Model.Any())
{
	<p>No data available.</p>

}
else
{
	<table class="table">
		<thead>
			<tr>
				<th>
					@Html.DisplayNameFor(Model => Model.Name)
				</th>
				<th>
					@Html.DisplayNameFor(Model => Model.StartDate)
				</th>
				<th>
					@Html.DisplayNameFor(Model => Model.Department)
				</th>
				<th>
					@Html.DisplayNameFor(Model => Model.SkillLevel)
				</th>
				<th>
					@Html.DisplayNameFor(Model => Model.Allocated)
				</th>
			</tr>
		</thead>
		<tbody>
		
			@foreach(var item in Model)
			{
				<tr>
					<td>
							@Html.DisplayFor(modelItem => item.Name)
					</td>
					<td>
							@Html.DisplayFor(modelItem => item.StartDate)
					</td>
					<td>
							@Html.DisplayFor(modelItem => item.Department)
					</td>
					<td>
							@Html.DisplayFor(modelItem => item.SkillLevel)
					</td>
					<td>
							@if (item.Allocated == false)
							{
								<span class="badge rounded-pill bg-danger">Unallocated</span>
							}
							else
							{
								<span class="badge rounded-pill bg-success">Allocated</span>
							}
					</td>
					<td>
							<a asp-action="AllocateTask" asp-route-id="@item.Id" class="btn btn-success">Allocate Task</a>
					</td>
				</tr>
			}
		</tbody>
	</table>
}